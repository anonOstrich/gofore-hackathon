{"version":3,"sources":["components/NameInformation.js","components/Togglable.js","components/MaritalStatusInformation.js","services/nameService.js","services/maritalService.js","hooks/UseField.js","App.js","index.js"],"names":["NameInformation","props","react_default","a","createElement","style","name","number","Togglable","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","toggleVisibility","showWhenVisible","display","hideWhenVisible","children","React","Children","map","c","onClick","Fragment","MaritalStatusInformation","nameService","getAll","_getAll","asyncToGenerator","regenerator_default","mark","_callee","result","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","this","apply","arguments","getByName","_getByName","_callee2","_context2","concat","_x","maritalService","getByYearAndStatus","_getByYearAndStatus","year","status","_x2","onlyFormAttributes","fieldInfo","onChange","value","type","objectWithoutProperties","useField","setValue","event","target","clear","MaritalStatusField","_ref","isChecked","idx","Number","checked","App","nameField","birthYearField","nameInfo","setNameInfo","_useState3","_useState4","birthYearInfo","setBirthYearInfo","_useState5","_useState6","maritalStatusData","setMaritalStatusData","_useState7","_useState8","waitingForResults","setWaitingForResults","_useState9","_useState10","maritalStatusValue","setMaritalStatusValue","handleSubmit","_ref2","preventDefault","infoStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","onSubmit","class","for","App_MaritalStatusField","disabled","components_Togglable","components_NameInformation","components_MaritalStatusInformation","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4e1436ce.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst NameInformation = (props) => {\r\n\r\n  return(\r\n    <div style={props.style}>\r\n    <p>Nimellä {props.name} on elossa {props.number} henkilöä vuonna 2019.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default NameInformation","import React, { useState } from 'react'\r\n\r\nconst Togglable = (props) => {\r\n  const [visible, setVisible] = useState(true)\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n\r\n  const showWhenVisible = {\r\n    display: (visible ? '' : 'none')\r\n  }\r\n\r\n  const hideWhenVisible = {\r\n    display: (visible ? 'none' : '')\r\n  }\r\n\r\n  if(!props.children){\r\n    return <></>\r\n  }\r\n\r\n  return(\r\n  <div>\r\n  \r\n  {React.Children.map(props.children, c => {\r\n    return(\r\n    <div>\r\n    <div onClick={toggleVisibility } style={showWhenVisible}>{c}</div>\r\n    <div style={hideWhenVisible}><button onClick={toggleVisibility}>näytä</button></div>\r\n    </div>\r\n    )\r\n    })}\r\n  </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Togglable","import React from 'react'\r\n\r\nconst MaritalStatusInformation = (props) => {\r\n\r\n\r\n  return(<div>Saatat olla naimisissa</div>)\r\n}\r\n\r\n\r\nexport default MaritalStatusInformation","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/names'\r\n\r\n\r\nconst nameService = {\r\n\r\n  getAll:  async () => {\r\n  const result = await axios.get()\r\n  return result.data\r\n},\r\n\r\n  getByName: async (name) => {\r\n  const result = await axios.get(`${baseUrl}/${name}`)\r\n  return result.data\r\n}\r\n}\r\n\r\nexport default nameService\r\n\r\n\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/family'\r\n\r\nconst maritalService = {\r\n\r\n  getByYearAndStatus: async (year, status) => {\r\n    const result = await axios.get(`${baseUrl}/${year}/${status}`)\r\n    return result.data\r\n  }\r\n}\r\n\r\n\r\nexport default maritalService","import { useState } from 'react'\r\n\r\nconst useField = (type) =>{\r\n  const [value, setValue] = useState('')\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  const clear = () => {\r\n    setValue('')\r\n  }\r\n\r\n  return {\r\n    type, value, onChange, clear\r\n  }\r\n} \r\n\r\nexport const onlyFormAttributes = (fieldInfo) => {\r\n  const { onChange, value, type, ...rest } = fieldInfo\r\n  return { onChange, value, type }\r\n}\r\n\r\nexport default useField","import React, { useState } from 'react';\r\nimport NameInformation from './components/NameInformation'\r\nimport Togglable from './components/Togglable'\r\nimport BirthYearInformation from './components/BirthYearInformation'\r\nimport MaritalStatusInformation from './components/MaritalStatusInformation'\r\nimport nameService from './services/nameService'\r\nimport maritalService from './services/maritalService'\r\nimport useField, { onlyFormAttributes } from './hooks/UseField'\r\n\r\n \r\n\r\nconst MaritalStatusField = ({onChange, value}) => {\r\n\r\n  const isChecked = (idx) => {\r\n    return Number(value) === idx; \r\n  }\r\n  \r\n  return (\r\n    <div>\r\n    <input type=\"radio\" name=\"maritalStatus\" value=\"0\" onChange={onChange} checked={isChecked(0) }/>Aviopuoliso, ei lapsia<br/>\r\n    <input type=\"radio\" name=\"maritalStatus\" value=\"1\" onChange={onChange} checked={isChecked(1) }/>Aviopuoliso, ja lapsia<br/>\r\n    <input type=\"radio\" name=\"maritalStatus\" value=\"2\" onChange={onChange} checked={isChecked(2) }/>Avopuoliso, ei lapsia<br/>\r\n    <input type=\"radio\" name=\"maritalStatus\" value=\"3\" onChange={onChange} checked={isChecked(3)}/>Avopuoliso, ja lapsia<br/>\r\n    <input type=\"radio\" name=\"maritalStatus\" value=\"4\" onChange={onChange} checked={isChecked(4)}/>Vanhempi, ei puolisoa<br/>\r\n    <input type=\"radio\" name=\"maritalStatus\" value=\"5\" onChange={onChange} checked={isChecked(5)}/>Lapsi<br/>\r\n    <input type=\"radio\" name=\"maritalStatus\" value=\"6\" onChange={onChange} checked={isChecked(6)}/>Perheisiin kuulumaton, asuu yksin<br/>\r\n    <input type=\"radio\" name=\"maritalStatus\" value=\"7\" onChange={onChange} checked={isChecked(7)}/>Perheisiin kuulumaton, ei asu yksin<br/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const nameField = useField('text')\r\n  const birthYearField = useField('number')\r\n  const [nameInfo, setNameInfo] = useState(null)\r\n  const [birthYearInfo, setBirthYearInfo] = useState(null)\r\n  const [maritalStatusData, setMaritalStatusData] = useState(null)\r\n  const [waitingForResults, setWaitingForResults] = useState(false)\r\n  const [maritalStatusValue, setMaritalStatusValue] = useState(null)\r\n\r\n  const handleSubmit = async (event) => {\r\n    setWaitingForResults(true)\r\n    setNameInfo(null)\r\n    setBirthYearInfo(null)\r\n    setMaritalStatusData(null)\r\n    event.preventDefault()\r\n    if(nameField.value !== ''){\r\n      const number = await nameService.getByName(nameField.value)\r\n      const name =  nameField.value\r\n      setNameInfo({name, number})\r\n    }\r\n\r\n    if(birthYearField.value !== '' && maritalStatusValue !== ''){\r\n      const data = await maritalService.getByYearAndStatus(birthYearField.value, maritalStatusValue)\r\n      setBirthYearInfo({\r\n        year: birthYearField.value, \r\n      })\r\n\r\n      setMaritalStatusData({\r\n        status: maritalStatusValue,\r\n        data: data\r\n      })\r\n    }\r\n\r\n    nameField.clear()\r\n    birthYearField.clear()\r\n    setMaritalStatusValue(null)\r\n    setWaitingForResults(false)\r\n  }\r\n\r\n\r\n  const infoStyle = {\r\n      paddingTop: 10,\r\n      paddingLeft: 2,\r\n      border: 'solid',\r\n      borderWidth: 1,\r\n      marginBottom: 5\r\n    }\r\n\r\n  \r\n  \r\n\r\n  return (\r\n    <div>\r\n    <div>\r\n    <h1>Syötä tietoja</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div class=\"form-group\">\r\n          <label for=\"name\">Nimi:</label><br/>\r\n          <input {...onlyFormAttributes(nameField)} /><br/>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"birthyear\">Syntymävuosi:</label><br/>\r\n          <input {...onlyFormAttributes(birthYearField)}/><br/>\r\n        </div>\r\n        <div class =\"form-group\">\r\n          <label>Marital status</label>\r\n          <MaritalStatusField value={maritalStatusValue} onChange={(event) => {\r\n            setMaritalStatusValue(event.target.value)\r\n          }}/>\r\n        </div>\r\n\r\n        {waitingForResults ? \r\n          <button type=\"submit\" disabled>Hae</button> \r\n          : <button type=\"submit\">Hae</button>\r\n        }\r\n        <br/>\r\n      </form>\r\n      </div>\r\n      <Togglable>\r\n        { nameInfo && <NameInformation name={nameInfo.name} number={nameInfo.number}  style={infoStyle}/>} \r\n      </Togglable>\r\n      <Togglable>\r\n        { birthYearInfo && <MaritalStatusInformation maritalStatusData={maritalStatusData} style={infoStyle}/>}\r\n      </Togglable>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}